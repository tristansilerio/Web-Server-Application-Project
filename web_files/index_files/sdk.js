window.meritPages=function(e){function t(e,t){e.addEventListener("click",function(e){t(e)}.bind(this)),e.addEventListener("keyup",function(e){13==e.keyCode&&(e.preventDefault(),e.target.click())}.bind(this))}function n(e){let t=e;const i="font-size: 1.0em !important; font-family: Arial, sans-serif !important; line-height: 1.5em !important; margin-bottom: 1em !important;",n="border-left: 5px solid #eee !important; padding: 5px 15px !important;";return t=(t=t.replace(/<p>/gi,'<p style="'+i+'">')).replace(/<blockquote>/gi,'<blockquote style="'+n+'">')}function o(e,t){this.baseUrl=window.location.protocol+"//api.meritpages.com",this.iframe=e.createElement("iframe"),this.iframe.id=t,C(this.iframe,"display","none"),C(this.iframe,"border","none"),C(this.iframe,"height","0"),C(this.iframe,"width","0"),this.iframe.src=this.baseUrl+"/js_tunnel?t="+1*new Date,null==document.body?window.addEventListener("load",function(){document.body.appendChild(this.iframe)}.bind(this)):document.body.appendChild(this.iframe),cleanSlate=e.createElement("link"),cleanSlate.rel="stylesheet",cleanSlate.type="text/css",cleanSlate.href="https://s3.amazonaws.com/assets-meritpages-com/cleanslate.css",document.getElementsByTagName("head")[0].append(cleanSlate),window.addEventListener("message",this.receiveMessage.bind(this),!1)}function a(e){if(e.story)var t=new r(e.story);else if(e.achievement)t=new d(e.achievement);else if(e.release)t=new l(e.release);else{if(!e.error)return console.log("ERROR: Don't know how to handle this Tunnel message: "+JSON.stringify(e)),null;t=new g(e.error)}return null==w&&(w=new p(document,{id:"meritModal",reopener:!0,title:t.title})),w.title=t.title,w.setContent(t.html()),"function"==typeof t.resize&&(window.addEventListener("resize",t.resize.bind(t),!1),t.resize()),w.open(),t}function r(e){this.klass="story",this.id=e.id,this.title=b(e.title),this.subtitle=b(e.subtitle),this.published=e.published,this.shareable=e.shareable,this.body=b(e.body),this.summary=b(e.summary),this.student=new m(e.student),this.media=new c(e.photos,e.videos),this.url=e.url,this.printUrl=e.url+"?print=true",this.lp_url=e.lp_url,this.comments=new Array,this.preview=e.preview;for(var t=0;t<e.comments.length;t++)this.comments.push(new s(e.comments[t]))}function s(e){this.id=e.id,this.comment=e.comment,this.published=e.published,this["public"]=e["public"],this.name=e.commentor.name,this.title=e.commentor.title,this.organization=e.commentor.organization,this.photo=e.commentor.photo,this.url=e.url}function d(e){this.klass="achievement",this.id=e.id,this.title=b(e.title),this.published=e.published,this.shareable=e.shareable,this.description=b(e.description),this.summary=b(e.summary),this.students=new h(this.id,e.students,parseInt(e.student_count),parseInt(e.page),parseInt(e.per_page),e.query,e.term),this.media=new c(e.photos,e.videos),this.url=e.url,this.lp_url=e.lp_url,this.filterText=e.filter_text}function l(e){this.klass="press_release",this.id=e.id,this.headline=b(e.headline),this.title=this.headline,this.subHeadline=b(e.sub_headline),this.dateline=b(e.dateline),this.body=b(e.body),this.published=e.published,this.contact=e.contact,this.summary=b(e.summary),this.media=new c(e.photos,e.videos),this.students=new h(this.id,e.students,parseInt(e.student_count),parseInt(e.page),parseInt(e.per_page),e.query,e.term),this.url=e.url,this.printUrl=e.url+"/print",this.lp_url=e.lp_url}function h(e,t,i,n,o,a,r){this.id=e,this.students=new Array,this.count=t.length,this.totalCount=i,this.perPage=o,this.query=a,this.pageCount=Math.ceil(this.totalCount/this.perPage),this.currentPage=n,this.term=r||"student";for(var s=0;s<t.length;s++)this.students.push(new m(t[s]))}function m(e){this.klass="student",this.id=e.id,this.name=e.name,this.photo=e.photo?e.photo.small:"",this.url=e.public_url,this.major=e.major,this.org=e.organization,this.classOf=e.class_of,this.location=e.location,this.title=e.title,this.is_public=e.is_public,this.privileged_url=e.privileged_url}function p(e,i){if(this.opts=i,this.id=i.id||"meritModal",this.title=i.title,null==i.autoSize?this.autoSize=!0:this.autoSize=i.autoSize,!e.getElementById(this.id)){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style"),a="#"+this.id,r=a+" a:focus, "+a+" input:focus { border: solid 2px blue !important; }\n";r=r.concat(a+" #meritMediaGallery a:focus { border: none !important;border-bottom: solid 2px blue !important;}\n"),n.appendChild(o),o.type="text/css",o.appendChild(document.createTextNode(r)),this.zindex=x(e.getElementsByTagName("*")),this.lightbox=e.createElement("div"),this.lightbox.tabIndex="0",this.lightbox.setAttribute("role","dialog"),this.lightbox.setAttribute("aria-label",this.title),this.lightbox.className="cleanslate",this.lightbox.id=this.id,C(this.lightbox,"display","none"),C(this.lightbox,"position","fixed"),C(this.lightbox,"z-index",this.zindex<9999?9999:this.zindex),C(this.lightbox,"overlflow","auto"),C(this.lightbox,"background","rgba(0,0,0,0.75)"),("undefined"==typeof i.scrollable||i.scrollable)&&C(this.lightbox,"overflow-y","scroll"),C(this.lightbox,"left",i.left||"0"),C(this.lightbox,"right",i.right||"0"),C(this.lightbox,"top",i.top||"0"),C(this.lightbox,"bottom",i.bottom||"0"),C(this.lightbox,"height",i.height||"100%"),C(this.lightbox,"width",i.width||"100%"),("undefined"==typeof i.closeLink||i.closeLink)&&(this.closeLink=e.createElement("a"),this.closeLink.id="meritCloseModal",this.closeLink.tabIndex="1",C(this.closeLink,"text-decoration","none"),C(this.closeLink,"color","white"),C(this.closeLink,"position","absolute"),C(this.closeLink,"top","10px"),C(this.closeLink,"right","25px"),C(this.closeLink,"font-size","35px"),C(this.closeLink,"font-weight","bold"),this.closeLink.innerHTML="&times;",t(this.closeLink,this.dismiss.bind(this)),this.lightbox.appendChild(this.closeLink),this.backLink=e.createElement("a"),this.backLink.id="meritBackModal",this.backLink.tabIndex="0",C(this.backLink,"text-decoration","none"),C(this.backLink,"color","white"),C(this.backLink,"position","absolute"),C(this.backLink,"top","10px"),C(this.backLink,"left","25px"),C(this.backLink,"font-size","35px"),C(this.backLink,"font-weight","bold"),this.backLink.innerHTML="&#10216;",t(this.backLink,function(){history.go(-1)}),this.lightbox.appendChild(this.backLink)),this.canvas=e.createElement("div"),this.canvas.id="meritModalContent",C(this.canvas,"position","relative"),C(this.canvas,"background-color",i.backgroundColor||"#fefefe"),C(this.canvas,"margin",i.margin||"4em 2em 4em 2em"),C(this.canvas,"max-width","650px"),this.canvas.addEventListener("click",function(e){e.stopPropagation()}),this.lightbox.appendChild(this.canvas),e.body.appendChild(this.lightbox),this.autoSize&&window.addEventListener("resize",this.resize.bind(this))}}function c(e,t){this.photos=e,this.videos=t,this.media_count=this.photos.length+this.videos.length,this.currentIndex=0}function u(e,t){this.obj=e,this.elemId=t,this.sharing=[{site:"facebook.com",img:"facebook.png",alt:"Share story on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u="+escape(e.url),use_dialog:!0},{site:"twitter.com",img:"twitter.png",alt:"Share story on Twitter",url:"https://twitter.com/intent/tweet?url="+escape(e.url)+"&text="+escape(e.title)},{site:"linkedin.com",img:"linkedin.png",alt:"Share story on LinkedIn",url:"https://www.linkedin.com/sharing/share-offsite/?url="+escape(e.url)},{site:"email",img:"email.png",alt:"Share story via email",url:"mailto:your@email.com?subject="+escape(e.title)+"&body="+escape(e.summary+" - "+e.url)}],"undefined"!=typeof e.printUrl&&this.sharing.push({site:"print",alt:"Print story",img:"print.png",url:e.printUrl})}function g(e){this.code=parseInt(e.code),this.message=e.message}function f(e){for(var t=document.getElementsByTagName("head")[0],i=document.getElementsByTagName("meta"),n=new Array,o=[{property:"og:title",content:e.title},{property:"og:description",content:e.summary},{property:"og:url",content:e.url},{property:"og:type",content:"news"},{name:"viewport",content:"width=device-width,initial-scale=1"}],a=0;a<i.length;a++){var r=i[a].getAttribute("property");r&&r.match(/^og/)&&r.match(/^og/).length>0&&n.push(i[a])}for(a=0;a<n.length;a++)t.removeChild(n[a]);for(a=0;a<o.length;a++)keys=Object.keys(o[a]),t.appendChild(document.createRange().createContextualFragment("<meta "+keys[0]+' ="'+o[a][keys[0]]+'" '+keys[1]+'="'+o[a][keys[1]]+'"/>'))}function y(e){for(var t=e.getElementsByTagName("a"),i=0;i<t.length;i++)t[i].addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()})}function b(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function x(e){for(var t=0,i=0;i<e.length;i++){var n=document.defaultView.getComputedStyle(e[i],null).getPropertyValue("z-index");parseInt(n)>t&&"auto"!=n&&(t=n)}return t+1}function v(e){for(var t=location.search.slice(1).split("&"),i={},n=0;n<t.length;n++)pair=t[n].split("="),i[pair[0].toLowerCase()]=decodeURIComponent(pair[1]||"").toLowerCase();var o=JSON.parse(JSON.stringify(i));return null==e?o:o[e]}function E(){var e=document.createElement("div");return C(e,"clear","both"),e}function C(e,t,i){e&&e.style.setProperty(t,i,"important")}var w=null;o.prototype.receiveMessage=function(e){if(e.origin==this.baseUrl){var t=a(e.data);if(null!=t&&null!=t.id)try{history.pushState(e.data,t.title,t.lp_url)}catch(i){this.loaded()}this.loaded()}},o.prototype.sendMessage=function(e,t=!0){try{this.iframe.contentWindow.postMessage(e,this.baseUrl),t&&this.loading()}catch(i){this.loaded()}},o.prototype.loading=function(){if(!document.getElementById("meritLightBoxLoading")){var e='<div id="meritLightBoxLoading" style="position:fixed;z-index:'+x(document.getElementsByTagName("*"))+';left:0;top:0;width:100%;height:100%;overflow:auto;background:rgba(0,0,0,0.75);"><img src="//meritpages.com/spinner.gif" alt="Content loading indicator" style="margin: auto !important;position: absolute !important;top: 0 !important; left: 0 !important; bottom: 0 !important; right: 0 !important;height:150px !important;width: 150px !important;border: none !important;" border=0/></div>',t=document.createRange().createContextualFragment(e);document.body.appendChild(t)}},o.prototype.loaded=function(){var e=document.getElementById("meritLightBoxLoading");null!=e&&e.remove()},window.addEventListener("popstate",function(e){null==e.state?w.dismiss():a(e.state)}.bind(this)),r.prototype.html=function(){var e=document.createElement("div"),t=document.createElement("div"),i=document.createElement("h1"),o=document.createElement("div"),a=document.createElement("cite");if(this.student.privileged_url||this.student.url){var r=this.student.html();C(r,"padding","10px"),C(r,"margin-bottom","25px"),t.appendChild(r)}if(this.shareable){var s=new u(this,"meritStorySharing");t.appendChild(s.html())}if(t.id="meritStory"+this.id,C(t,"font-family","arial, sans-serif"),C(t,"font-size","1em"),C(t,"text-align","left"),C(t,"color","#222222"),i.innerHTML=this.title,i.id="meritStoryTitle"+this.id,C(i,"font-size","2em"),C(i,"line-height","1.25em"),C(i,"margin","0 0 15px 0"),C(i,"padding","0"),C(i,"background-color","transparent"),a.id="publishedAt"+this.id,C(a,"display","block"),C(a,"margin","20px 0 20px 0"),C(a,"font-size","0.9em"),C(a,"font-style","italic"),a.innerHTML=this.published,o.id="meritStoryBody"+this.id,C(o,"font-size","0.9em"),C(o,"line-height","1.5em"),o.innerHTML=n(this.body),e.appendChild(this.media.html()),this.subtitle){var d=document.createElement("h2");d.innerHTML=this.subtitle,d.id="meritStorySubtitle"+this.id,C(d,"font-size","1.25em"),C(d,"line-height","1.5em"),C(d,"font-weight","400"),C(d,"margin","0 0 15px 0"),C(d,"padding","0"),t.appendChild(i),t.appendChild(d)}else t.appendChild(i);if(t.appendChild(a),t.appendChild(o),e.appendChild(t),this.comments.length>0){var l=document.createElement("div"),h=!1;for(p=0;p<this.comments.length;p++)this.comments[p]["public"]||(h=!0);if(h){var m=document.createElement("p");C(m,"text-align","center"),C(m,"font-family","arial, sans-serif"),C(m,"font-size","0.85em"),C(m,"margin-top","0"),C(m,"padding","10px"),m.innerHTML="Note: Comments marked private are only visible to you.",l.appendChild(m)}l.id="meritStoryComments"+this.id,C(l,"background-color","#f2f3f5"),C(l,"padding","35px"),C(l,"clear","both");for(var p=0;p<this.comments.length;p++){var c=this.comments[p].html();p!=this.comments.length-1&&C(c,"margin-bottom","25px"),c.appendChild(E()),l.appendChild(c)}l.appendChild(E()),e.append(l)}return this.preview?y(e):f(this),e},r.prototype.resize=function(){var e=document.getElementsByClassName("meritStoryComment"),t=document.getElementsByClassName("meritStoryCommentor"),i=document.getElementsByClassName("meritStoryMediaCaption");if(window.matchMedia("(max-width: 600px)").matches){this.shareable&&(C(document.getElementById("meritStorySharing"+this.id),"margin","5px 20px 0 0"),document.getElementById("publishedAt"+this.id).after(document.getElementById("meritStorySharing"+this.id))),C(document.getElementById("meritStory"+this.id),"padding","10px"),C(document.getElementById("meritStudentDetails"+this.student.id),"float","none"),C(document.getElementById("meritStudentName"+this.student.id),"font-size","1.25em"),C(document.getElementById("meritStudentPhoto"+this.student.id),"float","none");for(var n=0;n<i.length;n++)C(i[n],"padding","10px");if(this.comments.length>0){C(document.getElementById("meritStoryComments"+this.id),"padding","10px");for(n=0;n<e.length;n++)C(e[n],"width","95%"),C(t[n],"margin","10px")}}else{this.shareable?(C(document.getElementById("meritStorySharing"+this.id),"margin","5px 0 0 -65px"),C(document.getElementById("meritStory"+this.id),"padding","25px 50px 50px 100px"),document.getElementById("meritStoryTitle"+this.id).before(document.getElementById("meritStorySharing"+this.id))):C(document.getElementById("meritStory"+this.id),"padding","25px 50px 50px 50px"),C(document.getElementById("meritStudent"+this.student.id),"font-size","85%"),C(document.getElementById("meritStudent"+this.student.id),"padding","10px"),C(document.getElementById("meritStudent"+this.student.id),"display","inline-block"),C(document.getElementById("meritStudent"+this.student.id),"width","100%"),C(document.getElementById("meritStudent"+this.student.id),"box-sizing","border-box"),C(document.getElementById("meritStudent"+this.student.id),"border","solid 1px #ddd"),C(document.getElementById("meritStudent"+this.student.id),"margin","0 0 25px 0"),C(document.getElementById("meritStudentDetails"+this.student.id),"float","left"),C(document.getElementById("meritStudentPhoto"+this.student.id),"width","75px"),C(document.getElementById("meritStudentPhoto"+this.student.id),"float","left"),C(document.getElementById("meritStudentName"+this.student.id),"font-size","1.5em");for(n=0;n<i.length;n++)C(i[n],"padding","15px 25px");if(this.comments.length>0){C(document.getElementById("meritStoryComments"+this.id),"padding","25px");for(n=0;n<e.length;n++)C(e[n],"width","87%"),C(t[n],"margin","0")}}},s.prototype.html=function(){var e=document.createElement("div"),t=document.createElement("div"),i=document.createElement("p"),n=document.createElement("cite"),o=document.createElement("img");if(C(e,"font-size","0.85em"),o.className="meritStoryCommentor",o.src=this.photo.thumb,o.alt=this.name,C(o,"width","50px"),C(o,"border-radius","50%"),C(o,"border","solid 1px #fff"),C(o,"float","left"),t.className="meritStoryComment",C(t,"float","left"),C(t,"margin-left","10px"),C(t,"width","87%"),C(i,"background-color","#fff"),C(i,"padding","10px"),C(i,"margin","0"),C(i,"border-top-left-radius","5px"),C(i,"border-top-right-radius","5px"),C(i,"border-bottom-right-radius","5px"),C(i,"font-family","arial, sans-serif"),C(i,"font-size","1em"),C(i,"line-height","1.5em"),i.innerHTML="<strong>"+this.name+"</strong>",this.organization&&(i.innerHTML+=", <strong>"+this.organization+"</strong>"),i.innerHTML+=": "+this.comment,C(n,"clear","both"),C(n,"margin-top","8px"),C(n,"display","block"),C(n,"font-family","arial, sans-serif"),C(n,"font-size","0.85em"),n.innerHTML="Posted on "+this.published,null!=this.url){this["public"]?n.innerHTML+=" - Public - ":n.innerHTML+=" - Private - ";var a=document.createElement("a");a.href=this.url,C(a,"text-decoration","underline"),C(a,"color","#222"),a.innerHTML="Change",n.appendChild(a)}return t.appendChild(i),t.appendChild(n),e.appendChild(o),e.appendChild(t),e},d.prototype.html=function(){var e=document.createElement("div"),t=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");if(t.id="meritAchievement"+this.id,C(t,"font-family","arial, sans-serif"),e.appendChild(this.media.html()),this.shareable){var r=new u(this,"meritAchievementSharing");t.appendChild(r.html())}C(a,"clear","both"),e.appendChild(t),e.appendChild(a);var s=document.createElement("h1");s.innerHTML=this.title,s.id="meritAchievementTitle"+this.id,C(s,"font-size","2em"),C(s,"line-height","1.25em"),C(s,"margin","0 0 15px 0"),C(s,"padding","0"),C(s,"background-color","transparent"),C(t,"padding","25px"),t.appendChild(s);var d=document.createElement("cite");if(d.id="publishedAt"+this.id,C(d,"display","block"),C(d,"margin","20px 0 20px 0"),C(d,"font-size","0.9em"),C(d,"font-style","italic"),d.innerHTML=this.published,t.appendChild(d),C(o,"font-size","0.9em"),C(o,"line-height","1.5em"),o.innerHTML=n(this.description),t.appendChild(o),this.filterText){var l=document.createElement("p");C(l,"font-family","arial, sans-serif"),C(l,"text-align","center"),C(l,"padding","10px"),C(l,"margin","0"),C(l,"background-color","#f2f3f5"),C(l,"font-size","0.9em"),C(l,"border-bottom","solid 1px #fff"),l.innerHTML=this.filterText,e.appendChild(l)}e.appendChild(this.students.html());var h=e.getElementsByClassName("merit-student");for(i=0;i<h.length;i++){var m=h[i].getElementsByTagName("a");for(j=0;j<m.length;j++)m[j].addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),k.sendMessage({merit:{object:"achievement",id:this.id,student_id:e.target.dataset.id},url:window.location.origin})}.bind(this))}return f(this),e},d.prototype.resize=function(){window.matchMedia("(max-width: 600px)").matches?(this.shareable&&(C(document.getElementById("meritAchievementSharing"+this.id),"margin","5px 20px 0 0"),document.getElementById("publishedAt"+this.id).after(document.getElementById("meritAchievementSharing"+this.id))),C(document.getElementById("meritAchievement"+this.id),"padding","10px")):this.shareable?(C(document.getElementById("meritAchievementSharing"+this.id),"margin","5px 0 0 -65px"),C(document.getElementById("meritAchievement"+this.id),"padding","25px 50px 50px 100px"),document.getElementById("meritAchievementTitle"+this.id).before(document.getElementById("meritAchievementSharing"+this.id))):C(document.getElementById("meritAchievement"+this.id),"padding","25px 50px 50px 50px"),this.students.resize()},l.prototype.html=function(){var e=document.createElement("div"),t=document.createElement("div"),i=document.createElement("h1"),o=document.createElement("div"),a=document.createElement("cite"),r=document.createElement("div"),s=new u(this,"meritReleaseSharing");if(C(r,"float","left"),C(r,"margin-left","-65px"),r.appendChild(s.html()),t.appendChild(r),t.id="meritRelease"+this.id,C(t,"font-family","arial, sans-serif"),C(t,"font-size","1em"),C(t,"text-align","left"),C(t,"color","#222222"),i.innerHTML=this.headline,i.id="meritReleaseHeadline"+this.id,C(i,"font-size","2em"),C(i,"line-height","1.25em"),C(i,"margin","0 0 15px 0"),C(i,"padding","0"),C(i,"background-color","transparent"),a.id="publishedAt"+this.id,C(a,"display","block"),C(a,"margin","20px 0 20px 0"),C(a,"font-size","0.9em"),C(a,"font-style","italic"),C(a,"line-height","1.5em"),a.innerHTML="For more information contact:&nbsp;"+this.contact,o.id="meritReleaseBody"+this.id,C(o,"font-size","0.9em"),C(o,"line-height","1.5em"),o.innerHTML=n(this.body),e.appendChild(this.media.html()),this.subHeadline){C(i,"margin","0 0 10px 0");var d=document.createElement("h2");d.innerHTML=this.subHeadline,d.id="meritReleaseSubHeadline"+this.id,C(d,"font-size","1.25em"),C(d,"line-height","1.5em"),C(d,"font-weight","400"),C(d,"margin","0 0 15px 0"),C(d,"padding","0"),t.appendChild(i),t.appendChild(d)}else t.appendChild(i);return t.appendChild(a),t.appendChild(o),e.appendChild(t),this.students.length>0&&e.appendChild(this.students.html()),e},l.prototype.resize=function(){this.students.resize();var e=document.getElementsByClassName("meritReleaseMediaCaption");if(window.matchMedia("(max-width: 600px)").matches){C(document.getElementById("meritRelease"+this.id),"padding","10px"),C(document.getElementById("meritReleaseSharing"+this.id),"margin","5px 20px 0 0"),document.getElementById("publishedAt"+this.id).after(document.getElementById("meritReleaseSharing"+this.id));for(var t=0;t<e.length;t++)C(e[t],"padding","10px")}else{C(document.getElementById("meritReleaseSharing"+this.id),"margin","0 0 0 -65px"),C(document.getElementById("meritRelease"+this.id),"padding","25px 50px 50px 100px"),document.getElementById("meritReleaseHeadline"+this.id).before(document.getElementById("meritReleaseSharing"+this.id));for(t=0;t<e.length;t++)C(e[t],"padding","15px 25px")}},h.prototype.html=function(){var e=document.createElement("div");if(C(e,"background-color","#f2f3f5"),this.students.length>0){var t=document.createElement("div");C(t,"background-color","#d9dadc"),C(t,"text-align","center"),C(t,"font-size","0.80em"),C(t,"padding","10px 10px 10px 10px"),C(t,"margin-bottom","10px"),t.innerHTML="Click the names below to read their stories",e.append(t)}if((this.pageCount>1||null!=this.query)&&e.appendChild(this.pagination()),this.query){if(C(s=document.createElement("p"),"text-align","center"),C(s,"font-size","0.9em"),C(s,"margin","0"),C(s,"padding","10px"),0==this.count&&C(s,"padding","50px"),s.innerHTML=this.totalCount+" "+this.term,0==this.totalCount||this.totalCount>1?s.innerHTML+="s found":s.innerHTML+=" found",this.query){s.innerHTML+=" for: &quot;"+this.query.trim()+"&quot; - ";var i=document.createElement("a");C(i,"text-decoration","underline"),C(i,"cursor","pointer"),i.innerHTML="Clear",i.addEventListener("click",function(e){k.sendMessage({merit:{object:"achievement",id:this.id},url:window.location.origin}),e.preventDefault()}.bind(this)),s.appendChild(i)}e.appendChild(s)}for(var n=0;n<this.students.length;n++){var o=this.students[n].html(),a=o.getElementsByTagName("label")[0],r=o.getElementsByTagName("img")[0],s=o.getElementsByTagName("p")[0];if(C(o,"width","50%"),C(o,"float","left"),C(r,"width","75px"),C(r,"margin","10px 15px 10px 10px"),C(a,"margin","10px 0 0 0"),C(a,"font-size","1em"),C(s,"font-size","0.75em"),C(s,"margin","0"),n>0&&n%2==0){var d=E();C(d,"border-top","solid 1px #fff"),e.appendChild(d)}e.appendChild(o)}return e.appendChild(E()),e},h.prototype.searchForm=function(){var e=document.createElement("form"),t=document.createElement("input"),i=document.createElement("input");return e.id="meritAchievementSearch"+this.id,C(e,"margin","0"),C(e,"padding","0"),t.type="text",t.name="query",t.placeholder="Search by name...",t.id="meritAchievementSearchQuery"+this.id,C(t,"text-align","left"),C(t,"min-width","100px"),C(t,"font-size","1em"),C(t,"border","solid 1px #ccc"),C(t,"padding","3px"),t.value=this.query,i.type="submit",i.value="Search",C(i,"font-size","1em"),C(i,"padding","3px 10px"),e.appendChild(t),e.appendChild(i),i.addEventListener("click",function(e){t.value.length>=3?k.sendMessage({merit:{object:"achievement",id:this.id,query:t.value},url:window.location.origin}):alert("Please enter a longer search string (minimum of three characters)"),e.preventDefault()}.bind(this)),e},h.prototype.pagination=function(){var e,i,n=document.createElement("div"),o=document.createElement("ul"),a=this.searchForm();(C(a,"display","inline"),C(a,"float","right"),C(n,"background-color","#f2f3f5"),C(n,"border-bottom","solid 1px #fff"),C(n,"padding","10px 15px"),o.id="meritPagination"+this.id,C(o,"font-size","85%"),C(o,"clear","both"),C(o,"padding","5px 0 0 0"),C(o,"margin","0"),C(o,"text-align","center"),C(o,"list-style-type","none"),C(o,"display","inline"),C(o,"float","left"),C(e=document.createElement("li"),"display","inline-block"),C(e,"padding","0"),o.appendChild(e),this.currentPage>1)?((i=document.createElement("a")).innerHTML="< Prev",i.href="javascript:void(0)",i.dataset.page=this.currentPage-1,e.appendChild(i)):(e.innerHTML="< Prev",C(e,"color","#999"));((e=document.createElement("li")).innerHTML="Page "+this.currentPage+" of "+this.pageCount,C(e,"margin","0 1em 0 1em"),C(e,"padding","0"),C(e,"display","inline-block"),o.appendChild(e),C(e=document.createElement("li"),"margin","0"),C(e,"padding","0"),C(e,"display","inline-block"),o.appendChild(e),this.currentPage<this.pageCount)?((i=document.createElement("a")).innerHTML="Next >",i.href="javascript:void(0)",i.dataset.page=this.currentPage+1,e.appendChild(i)):(e.innerHTML="Next >",C(e,"color","#999"));for(var r=o.getElementsByTagName("a"),s=0;s<r.length;s++)t(r[s],this.goToPage.bind(this));return this.pageCount>=1&&n.appendChild(o),n.appendChild(a),n.appendChild(E()),n},h.prototype.goToPage=function(e){var t={merit:{object:"achievement",id:this.id,page:e.target.dataset.page},url:window.location.origin};this.query&&(t.merit.query=this.query),k.sendMessage(t)},m.prototype.html=function(){var e=document.createElement("div"),t=document.createElement("img"),i=document.createElement("label"),n=document.createElement("a"),o=document.createElement("p"),a=document.createElement("div"),r=new String;return e.id="meritStudent"+this.id,e.dataset.id=this.id,e.className="merit-student",C(e,"background-color","#f2f3f5"),C(e,"margin","0"),C(e,"font-size","1em"),C(e,"font-family","arial, sans-serif"),C(e,"text-align","left"),C(e,"color","#222222"),t.id="meritStudentPhoto"+this.id,t.src=this.photo,t.alt=this.name,C(t,"border","solid 2px #fff"),C(t,"float","left"),C(t,"margin","0 15px 15px 0"),C(t,"border-radius","50%"),i.id="meritStudentName"+this.id,C(i,"line-height","1.25em"),C(i,"margin","0 0 0.25em 0"),C(i,"padding","0"),C(i,"background-color","transparent"),C(i,"font-size","1.5em"),C(i,"font-weight","normal"),this.is_public?(n.href=this.privileged_url||this.url||"javascript:void(0);",n.innerHTML=this.name,C(n,"text-decoration","underline"),C(n,"font-weight","normal"),C(n,"color","#222"),n.dataset.id=this.id,i.appendChild(n)):i.innerHTML=this.name,this.title&&(r=r+this.title+"<br/>"),this.location&&(r=r+"From "+this.location+"<br/>"),C(o,"font-size","1em"),C(o,"line-height","1.25em"),C(o,"margin","0"),C(o,"padding","3px 0 10px 0"),o.innerHTML=r,a.id="meritStudentDetails"+this.id,a.appendChild(i),a.appendChild(o),e.appendChild(t),e.appendChild(a),e.appendChild(E()),e},h.prototype.resize=function(){for(var e=document.getElementsByClassName("merit-student"),t=0;t<e.length;t++)window.matchMedia("(max-width: 600px)").matches?(C(e[t],"clear","both"),C(e[t],"width","100%"),C(e[t],"border-bottom","solid 1px #fff")):(C(e[t],"clear","none"),C(e[t],"width","50%"),C(e[t],"border-bottom","none"));var i=document.getElementById("meritAchievementSearch"+this.id),n=document.getElementById("meritPagination"+this.id);window.matchMedia("(max-width: 600px)").matches?(null!=i&&(C(i,"float","none"),C(i,"display","block"),C(i,"clear","both"),C(i,"text-align","center")),null!=n&&(C(n,"display","block"),C(n,"float","none"),C(n,"margin-bottom","10px"))):(null!=i&&(C(i,"float","right"),C(i,"display","inline"),C(i,"clear","none"),C(i,"text-align","right")),null!=n&&(C(n,"display","inline"),C(n,"float","left"),C(n,"margin-bottom","0")))},p.prototype.minimize=function(){this.close(),"undefined"==typeof this.reopener&&(this.reopener=new p(document,{id:"meritLightboxReopener",top:"relative",bottom:"15px",left:"relative",right:"15px",width:"300px",height:"auto",backgroundColor:"transparent",margin:"2em",scrollable:!1,reopener:!1,closeLink:!1,autoSize:!1}));var e=document.createElement("div"),i=document.createElement("a");i.innerHTML=this.title||"Re-open Story",C(i,"font-family","arial, sans-serif"),C(i,"font-size","1em"),C(i,"line-height","1.25em"),C(i,"color","#fff"),C(i,"text-decoration","underline"),C(i,"cursor","pointer"),t(i,this.maximize.bind(this)),e.appendChild(i),this.reopener.setContent(e),this.reopener.open(!1),"undefined"!=typeof this.pollFocus&&clearInterval(this.pollFocus)},p.prototype.maximize=function(){this.reopener.close(),this.open()},p.prototype.dismiss=function(){this.opts.reopener?this.minimize():this.close()},p.prototype.close=function(){C(this.lightbox,"display","none")},p.prototype.open=function(e=!0){this.autoSize&&this.resize(),C(this.lightbox,"display","block"),"undefined"!=typeof this.reopener&&this.reopener.close(),document.onkeydown=function(e){27==(e=e||window.event).keyCode&&this.dismiss()}.bind(this),e&&this.takeFocus()},p.prototype.takeFocus=function(){var e=this;document.getElementById("meritLandingPage")&&("undefined"!=typeof this.pollFocus&&clearInterval(this.pollFocus),this.pollFocus=window.setInterval(e.checkFocus.bind(this),1e3)),document.addEventListener("focus",function(t){"none"==window.getComputedStyle(e.lightbox).getPropertyValue("display")||e.lightbox.contains(t.target)||(t.stopPropagation(),e.lightbox.focus())},!0),e.lightbox.focus()},p.prototype.checkFocus=function(){var e=window.getComputedStyle(this.lightbox).getPropertyValue("display"),t=document.getElementById("meritLandingPage");"none"!=e&&document.activeElement==t&&this.lightbox.focus()},p.prototype.setContent=function(e){this.canvas.innerHTML="",this.canvas.appendChild(e),this.canvas.appendChild(E())},p.prototype.resize=function(){window.matchMedia("(max-width: 600px)").matches?C(this.canvas,"margin","4em 1em"):C(this.canvas,"margin","4em auto")},c.prototype.html=function(){var e=document.createElement("div"),i=document.createElement("div"),n=document.createElement("div"),o=document.createElement("center"),a=document.createElement("ul");e.id="meritMediaGallery",C(a,"list-style-type","none"),C(a,"margin","-25px 0 0 0"),C(a,"padding","0"),C(a,"line-height","1em"),C(a,"position","relative"),o.appendChild(a);for(var r=0;r<this.videos.length;r++){var s=document.createElement("video"),d=document.createElement("source"),l=document.createElement("p"),h=document.createElement("li");s.className="meritStoryMedia",s.dataset.id=r,s.controls=!0,s.poster=this.videos[r].poster,d.src=this.videos[r].src,d.type="video/mp4",s.appendChild(d),C(s,"width","100%"),l.className="meritStoryMediaCaption",this.videos[r].caption?(l.innerHTML="<strong>Video Caption</strong>: "+this.videos[r].caption,C(l,"font-family","arial, sans-serif"),C(l,"font-size","0.85em"),C(l,"line-height","1.5em"),C(l,"padding","15px 25px"),C(l,"font-style","italic"),C(l,"margin","0"),r>0&&C(l,"display","none")):C(l,"display","none"),n.appendChild(l),i.appendChild(s),h.className="meritStoryMediaNav",h.dataset.id=r,h.innerHTML="&#9675;",C(h,"color","#fff"),C(h,"display","inline"),C(h,"margin","0 5px"),C(h,"padding","0"),C(h,"font-size","1.75em"),t(h,this.selectMedia.bind(this)),0==r?h.innerHTML="&#9679;":C(s,"display","none"),a.appendChild(h)}for(r=0;r<this.photos.length;r++){var m=document.createElement("img"),p=(h=document.createElement("li"),document.createElement("a")),c=r+this.videos.length;m.className="meritStoryMedia",m.dataset.id=c,m.border="0",m.src=this.photos[r].news,m.alt=this.photos[r].caption||"Image attachment; no caption",C(m,"width","100%"),(l=document.createElement("p")).className="meritStoryMediaCaption",this.photos[r].caption?(l.innerHTML="<strong>Photo Caption</strong>: "+this.photos[r].caption,C(l,"font-family","arial, sans-serif"),C(l,"font-size","0.85em"),C(l,"line-height","1.5em"),C(l,"padding","15px 25px"),C(l,"font-style","italic"),C(l,"margin","0"),c>0&&C(l,"display","none")):C(l,"display","none"),n.appendChild(l),p.href=this.photos[r].original,p.target="_blank",p.appendChild(m),h.className="meritStoryMediaNav",h.dataset.id=c,h.innerHTML="&#9675;",C(h,"color","#fff"),C(h,"display","inline"),C(h,"margin","0 5px"),C(h,"padding","0"),C(h,"font-size","1.75em"),t(h,this.selectMedia.bind(this)),0==c?h.innerHTML="&#9679;":C(m,"display","none"),i.appendChild(p),a.appendChild(h)}if(C(i,"position","relative"),e.appendChild(i),this.media_count>1){var u=document.createElement("div"),g=document.createElement("div");C(g,"color","#fff"),C(g,"text-decoration","none"),C(g,"position","relative"),C(g,"top","40%"),C(g,"translateY","-50%"),C(g,"font-size","5em"),C(g,"cursor","pointer"),g.innerHTML="&#10216;",u.id="meritPrevMediaNav",C(u,"position","absolute"),C(u,"width","50px"),C(u,"top","0"),C(u,"bottom","0"),C(u,"left","0"),C(u,"text-align","center"),C(u,"background","rgba(0,0,0,0.25)"),C(u,"display","none"),C(u,"cursor","pointer"),
u.appendChild(g),t(u,this.prevMedia.bind(this));var f=document.createElement("div"),y=document.createElement("div");y.innerHTML="&#10217;",C(y,"color","#fff"),C(y,"text-decoration","none"),C(y,"position","relative"),C(y,"top","40%"),C(y,"translateY","-50%"),C(y,"font-size","5em"),C(y,"cursor","pointer"),f.id="meritNextMediaNav",C(f,"position","absolute"),C(f,"width","50px"),C(f,"top","0"),C(f,"bottom","0"),C(f,"right","0"),C(f,"text-align","center"),C(f,"text-decoration","none"),C(f,"background","rgba(0,0,0,0.25)"),C(f,"display","none"),C(f,"cursor","pointer"),f.appendChild(y),t(f,this.nextMedia.bind(this)),e.addEventListener("keyup",function(e){39==e.keyCode?this.nextMedia():37==e.keyCode&&this.prevMedia()}.bind(this)),i.appendChild(u),i.appendChild(f),e.appendChild(o)}return e.appendChild(n),i.appendChild(E()),e.appendChild(E()),this.media_count>1&&(i.addEventListener("mouseover",this.showNavigation.bind(this)),i.addEventListener("mouseout",this.hideNavigation.bind(this))),e},c.prototype.showNavigation=function(){C(document.getElementById("meritNextMediaNav"),"display","block"),C(document.getElementById("meritPrevMediaNav"),"display","block")},c.prototype.hideNavigation=function(){C(document.getElementById("meritNextMediaNav"),"display","none"),C(document.getElementById("meritPrevMediaNav"),"display","none")},c.prototype.nextMedia=function(){this.currentIndex<this.media_count-1&&this.displayMedia(this.currentIndex+1)},c.prototype.prevMedia=function(){this.currentIndex>0&&this.displayMedia(this.currentIndex-1)},c.prototype.selectMedia=function(e){this.displayMedia(parseInt(e.target.dataset.id))},c.prototype.displayMedia=function(e){var t=document.getElementsByClassName("meritStoryMedia"),i=document.getElementsByClassName("meritStoryMediaNav"),n=document.getElementsByClassName("meritStoryMediaCaption");this.currentIndex=e;for(var o=0;o<t.length;o++)o==this.currentIndex?(C(t[o],"display","block"),i[o].innerHTML="&#9679;",n[o]&&C(n[o],"display","block")):(C(t[o],"display","none"),i[o].innerHTML="&#9675;",n[o]&&C(n[o],"display","none"))},u.prototype.html=function(){var e=document.createElement("ul");e.id=this.elemId+this.obj.id,C(e,"float","left"),C(e,"list-style-type","none"),C(e,"padding","0");for(var i=0;i<this.sharing.length;i++){var n=document.createElement("li"),o=document.createElement("a"),a=document.createElement("img");C(n,"margin-bottom","0.75em"),C(n,"list-style-image","none"),C(n,"list-style","none"),C(n,"padding","0"),C(o,"background-image","none"),this.sharing[i].use_dialog?(o.href="javascript:void(0);",o.dataset.url=this.sharing[i].url,t(o,this.openShareDialog.bind(o))):(o.href=this.sharing[i].url,o.target="_blank"),t(o,this.recordShare.bind(this)),a.src="https://s3.amazonaws.com/assets-meritpages-com/icons/"+this.sharing[i].img,a.alt=this.sharing[i].alt,C(a,"width","35px"),a.border="0",a.dataset.site=this.sharing[i].site,o.appendChild(a),n.appendChild(o),e.appendChild(n)}return e},u.prototype.recordShare=function(e){k.sendMessage({merit:{object:this.obj.klass,action:"share",id:this.obj.id,url:this.obj.url,site:e.target.dataset.site},url:window.location.origin},!1)},u.prototype.openShareDialog=function(){return window.open(this.dataset.url,"Share Dialog","toolbar=no,location=0,status=no,menubar=no,resizable=yes,width=600,height=400"),!1},g.prototype.html=function(){var e=document.createElement("div"),t=document.createElement("p"),i=document.createElement("h1");i.innerHTML=this.code+" - "+this.message,C(i,"color","#f00"),C(i,"font-family","arial, sans-serif"),C(e,"padding","50px"),C(e,"text-align","center"),C(e,"background-color","#fee"),C(t,"color","#f00"),C(t,"font-family","arial, sans-serif"),C(t,"font-size","1em"),C(t,"line-height","1.5em");var n=document.createElement("a");return n.href="mailto:help@meritpages.com?subject="+escape("Landing page error")+"&body="+escape("I encountered an error trying to view the following page: "+window.location.href),n.innerHTML="help@meritpages.com",C(n,"color","#f00"),410==this.code?t.innerHTML="This content has been removed by the owner. If you feel you reached this page in error, please contact: ":404==this.code?t.innerHTML="We could not find the content you requested. If you feel you reached this page in error, please contact: ":t.innerHTML="We're sorry but we encountered a problem trying to load this content. Please try again. If this error persists please contact: ",t.appendChild(n),e.appendChild(i),e.appendChild(t),e};var k=new o(e,"meritTunnel");return k.iframe.addEventListener("load",function(){var e=location.pathname.toLowerCase().split("/");if("undefined"!=typeof meritStoryId||v("merit_story_id")||e.indexOf("merit_story_id")>0)var t=v("merit_story_id")||e[e.indexOf("merit_story_id")+1]||meritStoryId,i="story";else if("undefined"!=typeof meritAchievementId||v("merit_achievement_id")||e.indexOf("merit_achievement_id")>0)t=v("merit_achievement_id")||e[e.indexOf("merit_achievement_id")+1]||meritAchievementId,i="achievement";else{if(!("undefined"!=typeof meritReleaseId||v("merit_release_id")||e.indexOf("merit_release_id")>0))return;t=v("merit_release_id")||e[e.indexOf("merit_release_id")+1]||meritReleaseId,i="release"}k.sendMessage({merit:{object:i,id:t,params:v(null)},url:window.location.origin})}),k}(document);